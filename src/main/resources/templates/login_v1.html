<style>

    .dowebok {
        position: absolute;
        left: 50%;
        top: 55%;
        width: 430px;
        height: 550px;
        margin: -300px 0 0 -215px;
        border: 1px solid #fff;
        border-radius: 20px;
        overflow: hidden;
    }

    .logo {
        width: 104px;
        height: 104px;
        margin: 50px auto 80px;
        background: url(images/login.png) 0 0 no-repeat;
    }

    .form-item {
        position: relative;
        width: 360px;
        margin: 0 auto;
        padding-bottom: 30px;
    }

    .form-item input {
        width: 288px;
        height: 48px;
        padding-left: 70px;
        border: 1px solid #fff;
        border-radius: 25px;
        font-size: 18px;
        color: #fff;
        background-color: transparent;
        outline: none;
    }

    .form-item button {
        width: 360px;
        height: 50px;
        border: 0;
        border-radius: 25px;
        font-size: 18px;
        color: #1f6f4a;
        outline: none;
        cursor: pointer;
        background-color: #fff;
    }

    #username {
        background: url(images/emil.png) 20px 14px no-repeat;
    }

    #password {
        background: url(images/password.png) 23px 11px no-repeat;
    }

    .tip {
        display: none;
        position: absolute;
        left: 20px;
        top: 52px;
        font-size: 14px;
        color: #f50;
    }

    .reg-bar {
        width: 360px;
        margin: 20px auto 0;
        font-size: 14px;
        overflow: hidden;
    }

    .reg-bar a {
        color: #fff;
        text-decoration: none;
    }

    .reg-bar a:hover {
        text-decoration: underline;
    }

    .reg-bar .reg {
        float: left;
    }

    .reg-bar .forget {
        float: right;
    }

    .dowebok ::-webkit-input-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    .dowebok :-moz-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    .dowebok ::-moz-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    .dowebok :-ms-input-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    @media screen and (max-width: 500px) {
        * {
            box-sizing: border-box;
        }

        .dowebok {
            position: static;
            width: auto;
            height: auto;
            margin: 0 30px;
            border: 0;
            border-radius: 0;
        }

        .logo {
            margin: 50px auto;
        }

        .form-item {
            width: auto;
        }

        .form-item input, .form-item button, .reg-bar {
            width: 100%;
        }
    }
</style>


<div class="dowebok">
    <div class="logo"></div>
    <div class="form-item">
        <input id="username" type="text" autocomplete="off" placeholder="邮箱">
        <p class="tip">请输入合法的邮箱地址</p>
    </div>
    <div class="form-item">
        <input id="password" type="password" autocomplete="off" placeholder="登录密码">
        <p class="tip">邮箱或密码不正确</p>
    </div>
    <div class="form-item"><button id="submit">登 录</button></div>
    <div class="reg-bar">
        <a class="reg" href="http://www.dowebok.com" target="_blank">立即注册</a>
        <a class="forget" href="http://www.dowebok.com" target="_blank">忘记密码</a>
    </div>
</div>

<!-- 全局js -->
<script type="text/javascript" src="/js/jquery.min.js?v=2.1.4"></script>
<script type="text/javascript" src="/js/bootstrap.min.js?v=3.3.6"></script>
<!-- 自定义js -->
<script type="text/javascript" src="/js/content.js?v=1.0.0"></script>

<!-- jQuery Validation plugin javascript-->
<script type="text/javascript" src="/js/ajax-util.js"></script>
<script type="text/javascript" src="/js/plugins/validate/jquery.validate.min.js"></script>
<script type="text/javascript" src="/js/plugins/validate/messages_zh.min.js"></script>
<script type="text/javascript" src="/js/layui.all.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#login").on('click', function () {
            $("#signupForm").submit();
        });
        validateRule();
        $("body").keydown(keyDownLogon);
        // getVerify($("#imgVerify"));
        $("#imgVerify").click()
    });


    $.validator.setDefaults({
        submitHandler: function () {
            login();
        }
    });


    //登陆接口调用
    function login() {
        $.ajax({
            type: "POST",
            url: "/login",
            data: $('#signupForm').serialize(),
            success: function (response) {
                if (response.state == 0) {
                    parent.layer.close(parent.index);
                    parent.location.reload();
                } else {
                    layer.msg(response.msg);
                }
            }
        });
    }

    //监听按键按下
    function keyDownLogon() {
        if (event.keyCode == "13") {
            $("#login").trigger('click');
        }
    }


    function validateRule() {
        var icon = "<i class='fa fa-times-circle'></i> ";
        $("#signupForm").validate({
            rules: {
                loginInfo: {
                    required: true
                },
                password: {
                    required: true
                }
            },
            messages: {
                loginInfo: {
                    required: icon + "请输入您的用户名或账户信息"
                },
                password: {
                    required: icon + "请输入您的密码"
                }
            }
        })
    }

    //获取验证码
    function getVerify(obj) {
        obj.src = "/getVerify?" + Math.random();
    }
</script>
<!--</body>-->
<!--</html>-->
